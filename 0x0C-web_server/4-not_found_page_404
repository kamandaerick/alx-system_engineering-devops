#!/usr/bin/env bash

# Install nginx
apt-get update -y
apt-get upgrade -y
apt-get install -y nginx

# Create the custom 404 page
echo "Ceci n'est pas une page" > /var/www/html/custom_404.html

# Start Nginx service
service nginx start

# Update Nginx configuration to use the custom 404 page
sudo sed -i '24i\        error_page 404 /custom_404.html;' /etc/nginx/sites-available/default
sudo sed -i '25i\        location = /custom_404.html {\n            internal;\n        }' /etc/nginx/sites-available/default

# Reload Nginx service to apply changes
service nginx reload

